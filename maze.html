<html>
<body>
<h1>Joel's Amazing Maze</h1>

<table>
	<tr>
		<td>
<table id="maze" border="0" style="font-size:300%;">
</table>
		</td>
		<td>

<table>
	<tr>
		<td></td>
		<td><button style="width:100%;" onclick="moveUp()">UP</button></td>
		<td></td>
	</tr>
	<tr>
		<td><button onclick="moveLeft()">LEFT</button></td>
		<td></td>
		<td><button onclick="moveRight()">RIGHT</button></td>
	</tr>
	<tr>
		<td></td>
		<td><button onclick="moveDown()">DOWN</button></td>
		<td></td>
	</tr>
</table>
		</td>
	</tr>
</table>

<script type="text/javascript">

height = 5;
width = 10;

block = "\u2588";
person = "\uc6c3";
person = "O";

maze = document.getElementById("maze");

// Create the table (tr's and td's)
for (row = 0; row < height * 2 + 1; row++) {
	tr = document.createElement("tr");
	maze.appendChild(tr);
	for (col = 0; col < width * 2 + 1; col++) {
		td = document.createElement("td");
		td.setAttribute("style", "padding:0;margin:0;");
		td.setAttribute("cellpadding", "0");
		td.setAttribute("cellspacing", "0");
		tr.appendChild(td);
	}
}

// Clear a cell 
function clearCell(row, col, text) {
	td = maze.getElementsByTagName("tr")[row].getElementsByTagName("td")[col];
	while (td.firstChild) {
	    td.firstChild.remove();
	}
}

// Get cell text (or null if no text).
function getCell(row, col) {
	td = maze.getElementsByTagName("tr")[row].getElementsByTagName("td")[col];
	if (td.firstChild) {
	    return td.firstChild.text;
	}
	return null;
}

function cellEmpty(row, col) {
	return getCell(row, col) === null;
}

// Set a cell to specified text
function setCell(row, col, text) {
	clearCell(row, col);
	td = maze.getElementsByTagName("tr")[row].getElementsByTagName("td")[col];
	td.appendChild(document.createTextNode(text));
}


// Draw line along top & bottom
for (col = 0; col < width * 2 + 1; col++) {
	setCell(0, col, "\u2588");
	setCell(height * 2, col, block);
}

// Draw line along left and right
for (row = 0; row < height * 2 + 1; row++) {
	setCell(row, 0, block);
	setCell(row, width * 2, block);
}

// Draw a crude maze
for (row = 2; row < height * 2 - 1; row += 2) {
	blankCol = ((row * 123) % width) * 2 + 1;
	for (col = 0; col < width * 2 + 1; col++) {
		if (col != blankCol) {
			setCell(row, col, block);
		}
	}
}

document.onkeydown = checkKey;

function checkKey(e) {

    e = e || window.event;

    if (e.keyCode == '38') {
	    moveUp();
    }
    else if (e.keyCode == '40') {
	    moveDown();
    }
    else if (e.keyCode == '37') {
	    moveLeft();
    }
    else if (e.keyCode == '39') {
	    moveRight();
    }
}

x = 0;
y = 0;
setCell(y * 2 + 1, x * 2 + 1, person);

function moveLeft() {
	clearCell(y * 2 + 1, x * 2 + 1);
	if (x > 0 && cellEmpty(y * 2 + 1, x * 2)) {
		x--;
	} else {
		beep();
	}
	setCell(y * 2 + 1, x * 2 + 1, person);
}

function moveRight() {
	clearCell(y * 2 + 1, x * 2 + 1);
	if (x < width - 1 && cellEmpty(y * 2 + 1, x * 2 + 2)) {
		x++;
	} else {
		beep();
	}
	setCell(y * 2 + 1, x * 2 + 1, person);
}

function moveUp() {
	clearCell(y * 2 + 1, x * 2 + 1);
	if (y > 0 && cellEmpty(y * 2, x * 2 + 1)) {
		y--;
	} else {
		beep();
	}
	setCell(y * 2 + 1, x * 2 + 1, person);
}

function moveDown() {
	clearCell(y * 2 + 1, x * 2 + 1);
	if (y < height - 1 && cellEmpty(y * 2 + 2, x * 2 + 1)) {
		y++;
	} else {
		beep();
	}
	setCell(y * 2 + 1, x * 2 + 1, person);
}

function beep() {
    var snd = new Audio("data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=");
    snd.play();
}

</script>
</body>
</html>
